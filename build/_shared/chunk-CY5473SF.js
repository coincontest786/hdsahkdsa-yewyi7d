import{a as k,b as _,c as ue}from"/build/_shared/chunk-OQ5IMCIA.js";import{d as oe,e as se}from"/build/_shared/chunk-5DCFALQ2.js";import{a as ie}from"/build/_shared/chunk-MRY5SXDL.js";import{a as A,b as E,c as D,d as X,e as ne,f as m,h as Y,i as ae,j as T,k as Z,l as P}from"/build/_shared/chunk-CKAJJNIC.js";import{d as F,g as x,i as d}from"/build/_shared/chunk-BQCUINC5.js";d();var i=F(x(),1);d();function le(e){typeof queueMicrotask=="function"?queueMicrotask(e):Promise.resolve().then(e).catch(t=>setTimeout(()=>{throw t}))}d();var de=F(x(),1);function q(){let e=(0,de.useRef)(!1);return A(()=>(e.current=!0,()=>{e.current=!1}),[]),e}d();d();d();function ce(e){let t={called:!1};return(...r)=>{if(!t.called)return t.called=!0,e(...r)}}d();function C(){let e=[],t=[],r={enqueue(n){t.push(n)},addEventListener(n,s,a,c){return n.addEventListener(s,a,c),r.add(()=>n.removeEventListener(s,a,c))},requestAnimationFrame(...n){let s=requestAnimationFrame(...n);return r.add(()=>cancelAnimationFrame(s))},nextFrame(...n){return r.requestAnimationFrame(()=>r.requestAnimationFrame(...n))},setTimeout(...n){let s=setTimeout(...n);return r.add(()=>clearTimeout(s))},add(n){return e.push(n),()=>{let s=e.indexOf(n);if(s>=0){let[a]=e.splice(s,1);a()}}},dispose(){for(let n of e.splice(0))n()},async workQueue(){for(let n of t.splice(0))await n()}};return r}function $(e,...t){e&&t.length>0&&e.classList.add(...t)}function ee(e,...t){e&&t.length>0&&e.classList.remove(...t)}var V=(e=>(e.Ended="ended",e.Cancelled="cancelled",e))(V||{});function De(e,t){let r=C();if(!e)return r.dispose;let{transitionDuration:n,transitionDelay:s}=getComputedStyle(e),[a,c]=[n,s].map(f=>{let[u=0]=f.split(",").filter(Boolean).map(o=>o.includes("ms")?parseFloat(o):parseFloat(o)*1e3).sort((o,l)=>l-o);return u});if(a+c!==0){let f=[];f.push(r.addEventListener(e,"transitionrun",u=>{u.target===u.currentTarget&&(f.splice(0).forEach(o=>o()),f.push(r.addEventListener(e,"transitionend",o=>{o.target===o.currentTarget&&(t("ended"),f.splice(0).forEach(l=>l()))}),r.addEventListener(e,"transitioncancel",o=>{o.target===o.currentTarget&&(t("cancelled"),f.splice(0).forEach(l=>l()))})))}))}else t("ended");return r.add(()=>t("cancelled")),r.dispose}function fe(e,t,r,n){let s=r?"enter":"leave",a=C(),c=n!==void 0?ce(n):()=>{},f=m(s,{enter:()=>t.enter,leave:()=>t.leave}),u=m(s,{enter:()=>t.enterTo,leave:()=>t.leaveTo}),o=m(s,{enter:()=>t.enterFrom,leave:()=>t.leaveFrom});return ee(e,...t.enter,...t.enterTo,...t.enterFrom,...t.leave,...t.leaveFrom,...t.leaveTo,...t.entered),$(e,...f,...o),a.nextFrame(()=>{ee(e,...o),$(e,...u),De(e,l=>(l==="ended"&&(ee(e,...f),$(e,...t.entered)),c(l)))}),a.dispose}d();var W=F(x(),1);function me(){let[e]=(0,W.useState)(C);return(0,W.useEffect)(()=>()=>e.dispose(),[e]),e}function pe({container:e,direction:t,classes:r,events:n,onStart:s,onStop:a}){let c=q(),f=me(),u=E(t),o=D(()=>m(u.current,{enter:()=>n.current.beforeEnter(),leave:()=>n.current.beforeLeave(),idle:()=>{}})),l=D(()=>m(u.current,{enter:()=>n.current.afterEnter(),leave:()=>n.current.afterLeave(),idle:()=>{}}));A(()=>{let v=C();f.add(v.dispose);let w=e.current;if(!!w&&u.current!=="idle"&&!!c.current)return v.dispose(),o(),s.current(u.current),v.add(fe(w,r.current,u.current==="enter",M=>{v.dispose(),m(M,{[V.Ended](){l(),a.current(u.current)},[V.Cancelled]:()=>{}})})),v.dispose},[t])}function y(e=""){return e.split(" ").filter(t=>t.trim().length>1)}var B=(0,i.createContext)(null);B.displayName="TransitionContext";var ke=(e=>(e.Visible="visible",e.Hidden="hidden",e))(ke||{});function He(){let e=(0,i.useContext)(B);if(e===null)throw new Error("A <Transition.Child /> is used but it is missing a parent <Transition /> or <Transition.Root />.");return e}function Ie(){let e=(0,i.useContext)(N);if(e===null)throw new Error("A <Transition.Child /> is used but it is missing a parent <Transition /> or <Transition.Root />.");return e}var N=(0,i.createContext)(null);N.displayName="NestingContext";function U(e){return"children"in e?U(e.children):e.current.filter(({state:t})=>t==="visible").length>0}function he(e){let t=E(e),r=(0,i.useRef)([]),n=q(),s=D((c,f=T.Hidden)=>{let u=r.current.findIndex(({id:o})=>o===c);u!==-1&&(m(f,{[T.Unmount](){r.current.splice(u,1)},[T.Hidden](){r.current[u].state="hidden"}}),le(()=>{var o;!U(r)&&n.current&&((o=t.current)==null||o.call(t))}))}),a=D(c=>{let f=r.current.find(({id:u})=>u===c);return f?f.state!=="visible"&&(f.state="visible"):r.current.push({id:c,state:"visible"}),()=>s(c,T.Unmount)});return(0,i.useMemo)(()=>({children:r,register:a,unregister:s}),[a,s,r])}function Oe(){}var Pe=["beforeEnter","afterEnter","beforeLeave","afterLeave"];function ve(e){var t;let r={};for(let n of Pe)r[n]=(t=e[n])!=null?t:Oe;return r}function qe(e){let t=(0,i.useRef)(ve(e));return(0,i.useEffect)(()=>{t.current=ve(e)},[e]),t}var Ve="div",Ee=ae.RenderStrategy,be=P(function(e,t){let{beforeEnter:r,afterEnter:n,beforeLeave:s,afterLeave:a,enter:c,enterFrom:f,enterTo:u,entered:o,leave:l,leaveFrom:v,leaveTo:w,...M}=e,b=(0,i.useRef)(null),K=Y(b,t),[h,R]=(0,i.useState)("visible"),L=M.unmount?T.Unmount:T.Hidden,{show:S,appear:Fe,initial:xe}=He(),{register:I,unregister:O}=Ie(),Q=(0,i.useRef)(null),g=ne();(0,i.useEffect)(()=>{if(g)return I(g)},[I,g]),(0,i.useEffect)(()=>{if(L===T.Hidden&&!!g){if(S&&h!=="visible"){R("visible");return}m(h,{hidden:()=>O(g),visible:()=>I(g)})}},[h,g,I,O,S,L]);let Ce=E({enter:y(c),enterFrom:y(f),enterTo:y(u),entered:y(o),leave:y(l),leaveFrom:y(v),leaveTo:y(w)}),ye=qe({beforeEnter:r,afterEnter:n,beforeLeave:s,afterLeave:a}),z=X();(0,i.useEffect)(()=>{if(z&&h==="visible"&&b.current===null)throw new Error("Did you forget to passthrough the `ref` to the actual DOM node?")},[b,h,z]);let G=xe&&!Fe,Me=(()=>!z||G||Q.current===S?"idle":S?"enter":"leave")(),J=(0,i.useRef)(!1),re=he(()=>{J.current||(R("hidden"),O(g))});pe({container:b,classes:Ce,events:ye,direction:Me,onStart:E(()=>{J.current=!0}),onStop:E(Ae=>{J.current=!1,Ae==="leave"&&!U(re)&&(R("hidden"),O(g))})}),(0,i.useEffect)(()=>{!G||(L===T.Hidden?Q.current=null:Q.current=S)},[S,G,h]);let Re=M,Se={ref:K};return i.default.createElement(N.Provider,{value:re},i.default.createElement(ue,{value:m(h,{visible:k.Open,hidden:k.Closed})},Z({ourProps:Se,theirProps:Re,defaultTag:Ve,features:Ee,visible:h==="visible",name:"Transition.Child"})))}),te=P(function(e,t){let{show:r,appear:n=!1,unmount:s,...a}=e,c=(0,i.useRef)(null),f=Y(c,t);X();let u=_();if(r===void 0&&u!==null&&(r=m(u,{[k.Open]:!0,[k.Closed]:!1})),![!0,!1].includes(r))throw new Error("A <Transition /> is used but it is missing a `show={true | false}` prop.");let[o,l]=(0,i.useState)(r?"visible":"hidden"),v=he(()=>{l("hidden")}),[w,M]=(0,i.useState)(!0),b=(0,i.useRef)([r]);A(()=>{w!==!1&&b.current[b.current.length-1]!==r&&(b.current.push(r),M(!1))},[b,r]);let K=(0,i.useMemo)(()=>({show:r,appear:n,initial:w}),[r,n,w]);(0,i.useEffect)(()=>{if(r)l("visible");else if(!U(v))l("hidden");else{let R=c.current;if(!R)return;let L=R.getBoundingClientRect();L.x===0&&L.y===0&&L.width===0&&L.height===0&&l("hidden")}},[r,v]);let h={unmount:s};return i.default.createElement(N.Provider,{value:v},i.default.createElement(B.Provider,{value:K},Z({ourProps:{...h,as:i.Fragment,children:i.default.createElement(be,{ref:f,...h,...a})},theirProps:{},defaultTag:i.Fragment,features:Ee,visible:o==="visible",name:"Transition"})))}),We=P(function(e,t){let r=(0,i.useContext)(B)!==null,n=_()!==null;return i.default.createElement(i.default.Fragment,null,!r&&n?i.default.createElement(te,{ref:t,...e}):i.default.createElement(be,{ref:t,...e}))}),gt=Object.assign(te,{Child:We,Root:te});d();var j=F(x(),1);d();var ge=F(x(),1);function H(e,t,r){let n=E(t);(0,ge.useEffect)(()=>{function s(a){n.current(a)}return window.addEventListener(e,s,r),()=>window.removeEventListener(e,s,r)},[e,r])}function Ct(e,t,r=!0){let n=(0,j.useRef)(!1);(0,j.useEffect)(()=>{requestAnimationFrame(()=>{n.current=r})},[r]);function s(a,c){if(!n.current||a.defaultPrevented)return;let f=function o(l){return typeof l=="function"?o(l()):Array.isArray(l)||l instanceof Set?l:[l]}(e),u=c(a);if(u!==null&&!!u.ownerDocument.documentElement.contains(u)){for(let o of f){if(o===null)continue;let l=o instanceof HTMLElement?o:o.current;if(l!=null&&l.contains(u))return}return!se(u,oe.Loose)&&u.tabIndex!==-1&&a.preventDefault(),t(a,u)}}H("click",a=>s(a,c=>c.target),!0),H("blur",a=>s(a,()=>window.document.activeElement instanceof HTMLIFrameElement?window.document.activeElement:null),!0)}d();var Te=F(x(),1);function Rt(...e){return(0,Te.useMemo)(()=>ie(...e),[...e])}d();var we=F(x(),1);function Dt(e,t,r,n){let s=E(r);(0,we.useEffect)(()=>{e=e??window;function a(c){s.current(c)}return e.addEventListener(t,a,n),()=>e.removeEventListener(t,a,n)},[e,t,n])}d();var Le=F(x(),1);var Be=(e=>(e[e.Forwards=0]="Forwards",e[e.Backwards=1]="Backwards",e))(Be||{});function It(){let e=(0,Le.useRef)(0);return H("keydown",t=>{t.key==="Tab"&&(e.current=t.shiftKey?1:0)},!0),e}export{C as a,me as b,Ct as c,Be as d,It as e,q as f,Rt as g,Dt as h,le as i,gt as j};