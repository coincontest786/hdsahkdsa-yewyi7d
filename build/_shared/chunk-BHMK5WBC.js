import{a as b,b as Ne}from"/build/_shared/chunk-L4WLEJDM.js";import{a as W}from"/build/_shared/chunk-SBH5BRZG.js";import{a as le}from"/build/_shared/chunk-FIDTW36V.js";import{a as ne}from"/build/_shared/chunk-HIQL2F4J.js";import{b as q}from"/build/_shared/chunk-2CKNLSXU.js";import{a as me,b as de,c as pe,d as fe,e as xe,f as ve}from"/build/_shared/chunk-HXP2GY5Y.js";import{b as ae}from"/build/_shared/chunk-LR2TDZQ6.js";import{a as ke}from"/build/_shared/chunk-ATK5QXW2.js";import{A as ge,B as be,c as ce,j as he,q as Z,s as U,u as we,x as ye}from"/build/_shared/chunk-IE27HVSD.js";import{a as O}from"/build/_shared/chunk-LMUMY6YR.js";import{j as E}from"/build/_shared/chunk-CY5473SF.js";import{a as ue}from"/build/_shared/chunk-SWQZGWFR.js";import{a}from"/build/_shared/chunk-J24LMM7T.js";import{a as $}from"/build/_shared/chunk-ROWZXDAP.js";import{a as ie}from"/build/_shared/chunk-UJHLW63H.js";import{d as S}from"/build/_shared/chunk-G6CDRCV7.js";import{c as te,d as A,h as re,j as f,n as se,o as oe,y as T}from"/build/_shared/chunk-ZE7WC5SJ.js";import{d as I,g as G,h as e,i}from"/build/_shared/chunk-BQCUINC5.js";i();T();i();i();i();var He=({className:t})=>e.createElement("svg",{viewBox:"0 0 158.97 149.83",xmlnsXlink:"http://www.w3.org/1999/xlink",xmlns:"http://www.w3.org/2000/svg",className:t},e.createElement("defs",null,e.createElement("linearGradient",{gradientUnits:"userSpaceOnUse",id:"linear-gradient",x1:"4.7",x2:"139.4",y1:"-39.46",y2:"137.72"},e.createElement("stop",{offset:0,stopColor:"#f64f59"}),e.createElement("stop",{offset:"0.5",stopColor:"#c471ed"}),e.createElement("stop",{offset:1,stopColor:"#12c2e9"})),e.createElement("linearGradient",{id:"linear-gradient-2",x1:"22.55",x2:"157.24",xlinkHref:"#linear-gradient",y1:"-53.03",y2:"124.15"}),e.createElement("linearGradient",{id:"linear-gradient-3",x1:"-12.58",x2:"122.12",xlinkHref:"#linear-gradient",y1:"-26.33",y2:"150.85"}),e.createElement("linearGradient",{id:"linear-gradient-4",x1:"-6.27",x2:"128.42",xlinkHref:"#linear-gradient",y1:"-31.12",y2:"146.06"}),e.createElement("linearGradient",{id:"linear-gradient-5",x1:"-55.58",x2:"79.12",xlinkHref:"#linear-gradient",y1:"6.36",y2:"183.54"})),e.createElement("g",null,e.createElement("path",{d:"M138.18,70.42H20.79A5.44,5.44,0,0,1,15.35,65V56.74a17,17,0,0,1,17-17h94.19a17,17,0,0,1,17,17V65A5.43,5.43,0,0,1,138.18,70.42Z",fill:"url(#linear-gradient)"}),e.createElement("path",{d:"M113.49,30.71h-68a5.54,5.54,0,0,1-5.54-5.54h0A25.17,25.17,0,0,1,65.11,0H93.86A25.17,25.17,0,0,1,119,25.17h0A5.54,5.54,0,0,1,113.49,30.71Z",fill:"url(#linear-gradient-2)"}),e.createElement("path",{d:"M143.61,79.42H15.35a15.36,15.36,0,0,0,0,30.71H61a18.86,18.86,0,0,1,37.06,0h45.6a15.36,15.36,0,1,0,0-30.71Z",fill:"url(#linear-gradient-3)"}),e.createElement("path",{d:"M138.13,119.13H98.35v30.7h30a15.35,15.35,0,0,0,15.35-15.35v-9.81A5.54,5.54,0,0,0,138.13,119.13Z",fill:"url(#linear-gradient-4)"}),e.createElement("path",{d:"M20.84,119.13a5.55,5.55,0,0,0-5.55,5.54v9.81a15.36,15.36,0,0,0,15.36,15.35h30v-30.7H20.84Z",fill:"url(#linear-gradient-5)"}))),_e=He;var De=({publication:t})=>t.beehiiv_branding?e.createElement("div",null,e.createElement(a,{as:"span",theme:"default"},e.createElement("a",{target:"_blank",rel:"noreferrer",href:`https://www.beehiiv.com/?utm_source=${t.name}&utm_medium=footer`,className:"extra-light flex items-center rounded border border-gray-300 bg-white py-2 px-3 text-xs"},e.createElement(_e,{className:"mr-2 h-4 w-4"}),e.createElement(a,{as:"span",theme:"default"},ae("shared.cta.powered_by_beehiiv")||"Powered by beehiiv")))):null,K=De;var V=({text:t})=>e.createElement(a,{as:"span",type:"title",theme:"navs",className:"text-md font-semibold sm:block"},t),z=({path:t,text:o,asTitle:r=!1})=>e.createElement(f,{to:t},e.createElement(a,{as:"span",type:"body",theme:"navs",weight:"medium",className:"text-sm opacity-75 hover:text-wt-primary"},o)),Be=({publication:t,isLoggedIn:o,subscription:r})=>{var g,h,P;let{t:s}=S(),{web_template:d}=t,{nav_groups:l}=d,n=t.premium_enabled,x=t.has_referral_program,c=o||n,v=((g=d==null?void 0:d.multi_pub_ids)==null?void 0:g.length)>=1,_=((P=(h=t==null?void 0:t.web_template)==null?void 0:h.author_ids)==null?void 0:P.length)>=1;return e.createElement("div",null,e.createElement("div",{className:"flex w-full"},e.createElement("div",{className:"flex w-full justify-start space-x-6"},e.createElement("div",{className:"flex flex-col"},e.createElement(V,{text:s("nav.links.home")}),e.createElement(z,{path:"/",text:s("meta.titles.posts")}),v&&e.createElement(z,{path:"/publications",text:"Newsletters"}),_&&e.createElement(z,{path:"/authors",text:s("author.authors")})),c&&e.createElement("div",{className:"flex flex-col"},e.createElement(V,{text:s("nav.mobile_sections.account")}),e.createElement("div",{className:"mb-2 flex flex-col"},n&&e.createElement(z,{path:"/upgrade",text:s("nav.links.upgrade")}),o&&r&&e.createElement(z,{path:`/subscribe/${r.id}/manage`,text:s("nav.links.manage")}),x&&r&&e.createElement(z,{path:`/subscribe/${r.id}/referrals`,text:s("nav.links.referrals")}))),e.createElement("div",{className:"flex space-x-6"},l&&l.map(u=>{var L,M;return u.is_category_group||!((L=u==null?void 0:u.nav_links)==null?void 0:L.length)?null:e.createElement("div",{key:u.id},e.createElement(V,{text:u.title}),e.createElement("div",{className:"mb-2 flex flex-col"},(M=u==null?void 0:u.nav_links)==null?void 0:M.map(y=>y.external_link?e.createElement("a",{key:y.id,href:y.href,target:"_blank",rel:"nofollow noreferrer noopener"},e.createElement(a,{as:"span",type:"body",theme:"navs",className:"text-sm opacity-75 hover:text-wt-primary"},y.cta_text)):e.createElement(z,{key:y.id,path:`/c/${y.href}`,text:y.cta_text}))))})))))},je=({publication:t,recaptchaSiteKey:o,subscription:r})=>{let s=ne(),d=new Date().getFullYear(),{t:l}=S(),n=t.copyright_text||t.name,x=t.tiktok_url,c=t.twitter_url,v=t.youtube_url,_=t.facebook_url,g=t.instagram_url,h=t.linkedin_url,P=t.private&&!s,u=()=>e.createElement("div",{className:"flex flex-col space-y-1"},e.createElement("div",{className:"flex space-x-2 transition-all"},e.createElement("div",{className:"flex items-end space-x-2"},c&&e.createElement("a",{target:"_blank",rel:"noreferrer",href:c},e.createElement(a,{as:"span",type:"body",size:"sm",theme:"navs",weight:"medium",className:"text-md tracking-wide"},e.createElement(xe,{className:"h-4 w-4 fill-current opacity-40 hover:opacity-100"}))),h&&e.createElement("a",{target:"_blank",rel:"noreferrer",href:h},e.createElement(a,{as:"span",type:"body",size:"sm",theme:"navs",weight:"medium",className:"text-md tracking-wide"},e.createElement(pe,{className:"h-4 w-4 fill-current opacity-40 hover:opacity-100"}))),v&&e.createElement("a",{target:"_blank",rel:"noreferrer",href:v},e.createElement(a,{as:"span",type:"body",size:"sm",theme:"navs",weight:"medium",className:"text-md tracking-wide"},e.createElement(ve,{className:"h-4 w-4 fill-current opacity-40 hover:opacity-100"}))),x&&e.createElement("a",{target:"_blank",rel:"noreferrer",href:x},e.createElement(a,{as:"span",type:"body",size:"sm",theme:"navs",weight:"medium",className:"text-md tracking-wide"},e.createElement(fe,{className:"h-4 w-4 fill-current opacity-40 hover:opacity-100"}))),_&&e.createElement("a",{target:"_blank",rel:"noreferrer",href:_},e.createElement(a,{as:"span",type:"body",size:"sm",theme:"navs",weight:"medium",className:"text-md tracking-wide"},e.createElement(me,{className:"h-4 w-4 fill-current opacity-40 hover:opacity-100"}))),g&&e.createElement("a",{target:"_blank",rel:"noreferrer",href:g},e.createElement(a,{as:"span",type:"body",size:"sm",theme:"navs",weight:"medium",className:"text-md tracking-wide"},e.createElement(de,{className:"h-4 w-4 fill-current opacity-40 hover:opacity-100"}))))));return e.createElement("footer",{className:"flex w-full flex-col bg-wt-tertiary py-10 px-4","aria-labelledby":"footer-heading"},e.createElement("h2",{id:"footer-heading",className:"sr-only"},"Footer"),e.createElement("div",{className:"mx-auto w-full max-w-6xl"},e.createElement("div",{className:"flex flex-col-reverse justify-between space-x-0 md:flex-row md:space-x-8"},e.createElement("div",{className:"w-full"},e.createElement("div",{className:"w-full max-w-lg"},e.createElement("div",{className:"flex space-x-4"},e.createElement("div",null,e.createElement("div",{className:"h-10 w-10 overflow-hidden rounded"},t.logo.thumb.url&&e.createElement($,{src:t.logo.thumb.url,alt:t.name,maxWidth:200,aspectRatio:"square"}))),e.createElement("div",null,t.name&&e.createElement(a,{as:"h4",type:"title",size:"lg",theme:"navs",weight:"bold"},t.name),t.description&&e.createElement(a,{as:"p",type:"body",size:"sm",theme:"navs",weight:"medium",className:"text-md tracking-wide opacity-75"},t.description))),e.createElement("div",{className:"w-full pt-4"},!P&&e.createElement(le,{publication:t,recaptchaSiteKey:o,widgetId:"signup-footer-recaptcha"}),e.createElement("div",{className:"mt-4 flex items-center"},e.createElement("div",null,u()))))),e.createElement("div",{className:"flex hidden w-full flex-grow flex-col justify-between md:block"},!P&&e.createElement(Be,{publication:t,isLoggedIn:s,subscription:r}))),e.createElement("div",{className:"mt-8 flex flex-col items-center justify-between space-y-4 border-t border-white/20 pt-6 sm:flex-row sm:space-y-0"},e.createElement("div",null,e.createElement("div",{className:"flex flex-col items-center space-x-2 md:flex-row"},e.createElement("div",{className:"mb-3 flex items-center space-x-0 md:mb-0 md:space-x-2"},e.createElement(a,{as:"span",theme:"navs",className:"extra-light text-xs"},l("footer.copyright_simple",{year:d,name:n})),e.createElement("div",{className:"hidden h-4 border-r border-gray-400 md:block"})),e.createElement("div",{className:"flex items-center space-x-2"},e.createElement(a,{as:"span",theme:"navs",className:"extra-light whitespace-nowrap text-xs underline underline-offset-1"},e.createElement("a",{target:"_blank",rel:"noreferrer",href:`https://www.beehiiv.com/privacy?utm_source=${t.name}&utm_medium=footer`},l("footer.privacy_policy"))),e.createElement("div",{className:"h-4 border-r border-gray-400"}),e.createElement(a,{as:"span",theme:"navs",className:"extra-light whitespace-nowrap text-xs underline underline-offset-1"},e.createElement("a",{target:"_blank",rel:"noreferrer",href:`https://www.beehiiv.com/tou?utm_source=${t.name}&utm_medium=footer`},l("footer.terms_of_use")))))),e.createElement(K,{publication:t}))))},Oe=je;i();var Y=I(ie()),We=({maxWidth:t,children:o,noLayout:r})=>r?e.createElement(e.Fragment,null,o):e.createElement("main",{className:(0,Y.default)("flex w-full flex-grow px-4",t==="none"?"px-0":"px-4")},e.createElement("div",{className:(0,Y.default)("mx-auto flex w-full flex-col",t==="4xl"?"max-w-4xl":"",t==="5xl"?"max-w-5xl":"",t==="6xl"?"max-w-6xl":"",t==="none"?"max-w-none py-0":"")},o)),Ze=We;i();T();var $e=I(ie()),k=I(G());i();T();var Te=I(G());i();var qe=({children:t,buttonChild:o})=>e.createElement(b,null,e.createElement(b.Button,{"aria-label":"Menu",className:"rounded-full transition-all"},o),e.createElement(E,{enter:"transition duration-100 ease-out",enterFrom:"transform scale-95 opacity-0",enterTo:"transform scale-100 opacity-100",leave:"transition duration-75 ease-out",leaveFrom:"transform scale-100 opacity-100",leaveTo:"transform scale-95 opacity-0"},e.createElement(b.Items,{className:"min-w-48 absolute top-2 right-0 flex flex-col rounded-sm bg-wt-tertiary shadow-sm focus:outline-none"},t))),Pe=qe;var Ke=({subscriberId:t,isReferralEnabled:o,avatarUrl:r,isPremiumEnabled:s,isPremiumTierSubscriber:d,isLoggedIn:l,publication:n})=>{var y,m,B,j;let x=te(),c=A(),[v]=re(),[_,g]=(0,Te.useState)(!1),{t:h}=S(),P=oe(),u=((m=(y=n==null?void 0:n.web_template)==null?void 0:y.author_ids)==null?void 0:m.length)>=1,F=((j=(B=n==null?void 0:n.web_template)==null?void 0:B.multi_pub_ids)==null?void 0:j.length)>=1,w=()=>{v.has("email")&&c(x.pathname),g(!1)},L=()=>{g(!0)},M=()=>{P(null,{method:"post",action:"/logout"})};return e.createElement(e.Fragment,null,!t&&e.createElement(Ne,{isOpen:_,handleCloseModal:w,publication:n}),e.createElement(Pe,{buttonChild:e.createElement("div",{className:"mt-1.5"},l?e.createElement("div",{className:"h-6 w-6 overflow-hidden rounded-full"},e.createElement("img",{className:"h-6 w-6 rounded-full",src:r,alt:"The logged in user"})):e.createElement(U,{className:"h-6 w-6 stroke-1 text-wt-text-on-tertiary opacity-60 hover:opacity-100"}))},e.createElement(e.Fragment,null,s&&!d&&e.createElement(b.Item,null,({active:C})=>e.createElement(f,{to:"/upgrade",prefetch:"intent"},e.createElement("div",{className:"group flex items-center space-x-2 rounded-wt py-2 px-3 hover:bg-black/5"},e.createElement(ye,{className:"h-3 w-3 text-wt-text-on-tertiary"}),e.createElement(a,{as:"span",type:"title",theme:"navs",className:"whitespace-nowrap text-xs sm:block"},h("nav.links.upgrade")))))),F&&e.createElement(b.Item,null,({active:C})=>e.createElement(f,{to:"/publications",prefetch:"intent"},e.createElement("div",{className:"group flex items-center space-x-2 rounded-wt py-2 px-3 hover:bg-black/5"},e.createElement(we,{className:"h-3 w-3 text-wt-text-on-tertiary"}),e.createElement(a,{as:"span",type:"title",theme:"navs",className:"whitespace-nowrap text-xs sm:block"},"Newsletters")))),u&&e.createElement(b.Item,null,({active:C})=>e.createElement(f,{to:"/authors",prefetch:"intent"},e.createElement("div",{className:"group flex items-center space-x-2 rounded-wt py-2 px-3 hover:bg-black/5"},e.createElement(be,{className:"h-3 w-3 text-wt-text-on-tertiary"}),e.createElement(a,{as:"span",type:"title",theme:"navs",className:"whitespace-nowrap text-xs sm:block"},h("author.authors"))))),t&&e.createElement(b.Item,null,({active:C})=>e.createElement(f,{to:`/subscribe/${t}/manage`,prefetch:"intent"},e.createElement("div",{className:"group flex items-center space-x-2 rounded-wt py-2 px-3 hover:bg-black/5"},e.createElement(he,{className:"h-3 w-3 text-wt-text-on-tertiary"}),e.createElement(a,{as:"span",type:"title",theme:"navs",className:"whitespace-nowrap text-xs sm:block"},h("nav.links.manage"))))),o&&t&&e.createElement(b.Item,null,({active:C})=>e.createElement(f,{to:`/subscribe/${t}/referrals`,prefetch:"intent"},e.createElement("div",{className:"group flex items-center space-x-2 rounded-wt py-2  px-3  hover:bg-black/5"},e.createElement(ge,{className:"h-3 w-3 text-wt-text-on-tertiary"}),e.createElement(a,{as:"span",type:"title",theme:"navs",className:"whitespace-nowrap text-xs sm:block"},h("nav.links.referrals"))))),l?e.createElement(b.Item,null,({active:C})=>e.createElement("button",{onClick:M,className:"whitespace-nowrap text-xs text-wt-text-on-tertiary"},e.createElement("div",{className:"group flex items-center space-x-2 rounded-wt py-2 px-3 hover:bg-black/5"},e.createElement(Z,{className:"h-3 w-3 text-wt-text-on-tertiary"}),e.createElement("div",{className:"whitespace-nowrap text-xs text-wt-text-on-tertiary sm:block"},h("shared.cta.logout"))))):e.createElement(b.Item,null,({active:C})=>e.createElement("button",{onClick:L,className:"whitespace-nowrap text-xs text-wt-text-on-tertiary"},e.createElement("div",{className:"group flex items-center space-x-2 rounded-wt py-2 px-3 hover:bg-black/5"},e.createElement(Z,{className:"h-3 w-3 text-wt-text-on-tertiary"}),e.createElement("div",{className:"whitespace-nowrap text-xs text-wt-text-on-tertiary sm:block"},h("shared.cta.login")))))))},Le=Ke;i();T();var Ve=({url:t,name:o})=>e.createElement(f,{className:"transition:all rounded-wt py-1 px-2 hover:bg-black/5",to:"/"},e.createElement("div",{className:"flex items-center space-x-2"},t&&e.createElement("div",{className:"h-8 w-8 overflow-hidden rounded-wt"},e.createElement($,{className:"h-full w-full rounded-wt object-contain",src:t,alt:`${o} logo`,maxWidth:100,aspectRatio:"square"})),e.createElement(a,{as:"span",type:"title",theme:"navs",className:"sm:text-md wt-text-primary hidden text-sm sm:block"},o))),Me=Ve;i();i();T();i();var Ce=I(G()),Ye=({children:t,popoverContent:o})=>{let[r,s]=(0,Ce.useState)(!1);return e.createElement(W,{className:"relative h-full cursor-pointer",onMouseEnter:()=>s(!0),onMouseLeave:()=>s(!1)},e.createElement("div",{className:"transition:all rounded-wt py-2 px-2 hover:bg-black/5"},t),e.createElement(E,{show:r,enter:"transition duration-100 ease-out",enterFrom:"transform scale-95 opacity-0",enterTo:"transform scale-100 opacity-100",leave:"transition duration-75 ease-out",leaveFrom:"transform scale-100 opacity-100",leaveTo:"transform scale-95 opacity-0"},e.createElement(W.Panel,{className:"absolute top-0 left-0 flex w-48 flex-col rounded-wt bg-wt-tertiary shadow-md focus:outline-none"},e.createElement("div",null,o))))},H=Ye;var Xe=({children:t,subLinks:o,webTemplate:r})=>{let s=r.enable_customize_category_ids,d=r.category_ids;return e.createElement(H,{popoverContent:e.createElement(e.Fragment,null,o.map(l=>s&&!d.includes(l.id)?null:e.createElement(f,{key:l.id,className:"flex rounded-wt px-3 py-2.5 hover:bg-black/5",to:`/t/${l.display}`},e.createElement(a,{as:"span",type:"title",theme:"navs",className:"hidden break-all text-xs sm:block"},l.display))))},t)},Ie=Xe;i();T();var Je=({children:t,subLinks:o})=>e.createElement(H,{popoverContent:e.createElement(e.Fragment,null,o.map(r=>r.external_link?e.createElement("a",{key:r.id,className:"flex rounded-wt px-3 py-2.5 hover:bg-black/5",href:r.href,target:"_blank",rel:"nofollow noreferrer noopener"},e.createElement(a,{as:"span",type:"title",theme:"navs",className:"hidden break-all text-xs sm:block"},r.cta_text)):e.createElement(f,{key:r.id,className:"flex rounded-wt px-3 py-2.5 hover:bg-black/5",to:`/c/${r.href}`},e.createElement(a,{as:"span",type:"title",theme:"navs",className:"hidden break-all text-xs sm:block"},r.cta_text))))},t),Se=Je;i();T();var Qe=({link:t})=>t.external_link?e.createElement("a",{className:"transition:all rounded-wt py-2 px-2 hover:bg-black/5",href:t.href,target:"_blank",rel:"nofollow noreferrer noopener"},e.createElement(a,{as:"span",type:"title",theme:"navs",className:"hidden whitespace-nowrap text-xs sm:block"},t.cta_text)):e.createElement(f,{className:"transition:all rounded-wt py-2 px-2 hover:bg-black/5",to:`/c/${t.href}`},e.createElement(a,{as:"span",type:"title",theme:"navs",className:"hidden whitespace-nowrap text-xs sm:block"},t.cta_text)),Ee=Qe;var Re=({publication:t})=>{let{content_tags:o,web_template:r}=t;return e.createElement("div",{className:"z-20 flex"},r.nav_groups&&r.nav_groups.map(s=>s.is_category_group?e.createElement(Ie,{key:s.id,subLinks:o,webTemplate:r},e.createElement(a,{as:"span",type:"title",theme:"navs",className:"hidden text-xs sm:block"},s.title)):s.nav_links.length===0?null:s.nav_links.length===1?e.createElement(Ee,{key:s.id,link:s.nav_links[0]}):e.createElement(Se,{key:s.id,subLinks:s.nav_links},e.createElement(a,{as:"span",type:"title",theme:"navs",className:"hidden text-xs sm:block"},s.title))))},ze=Re;i();T();var Fe=I(G());i();var X=I(G()),et=({open:t,setOpen:o,title:r,children:s})=>e.createElement(E.Root,{show:t,as:X.Fragment},e.createElement(O,{as:"div",className:"relative",onClose:o},e.createElement("div",{className:"fixed inset-0 "}),e.createElement("div",{className:"fixed inset-0 z-30 overflow-hidden"},e.createElement("div",{className:"absolute inset-0 overflow-hidden"},e.createElement("div",{className:"pointer-events-none fixed inset-y-0 right-0 flex pl-10"},e.createElement(E.Child,{as:X.Fragment,enter:"transform transition ease-in-out duration-500 sm:duration-700",enterFrom:"translate-x-full",enterTo:"translate-x-0",leave:"transform transition ease-in-out duration-500 sm:duration-700",leaveFrom:"translate-x-0",leaveTo:"translate-x-full"},e.createElement(O.Panel,{className:"pointer-events-auto w-screen"},e.createElement("div",{className:"relative flex h-full flex-col overflow-y-scroll bg-white py-6 shadow-xl"},e.createElement("div",{className:"px-4 sm:px-6"},e.createElement("div",{className:"flex items-start justify-between"},e.createElement("p",{className:"mb-2 text-2xl font-medium"},r),e.createElement("div",{className:"fixed bottom-8 right-8 z-20 ml-3 flex h-7 items-center"},e.createElement("button",{type:"button",className:"border-gray rounded-wt border bg-white text-gray-400 hover:text-gray-500 focus:outline-none",onClick:()=>{o(!1),window.scrollTo({top:0,behavior:"smooth"})}},e.createElement(ce,{className:"h-6 w-6","aria-hidden":"true"}))))),e.createElement("div",{className:"relative mt-6 flex-1 px-4"},s))))))))),Ge=et;var D=({text:t})=>e.createElement(a,{as:"span",type:"title",theme:"primary",className:"text-md font-semibold sm:block"},t),N=({path:t,text:o,onClick:r,asTitle:s=!1})=>e.createElement(f,{to:t,onClick:r},e.createElement(a,{as:"span",type:"title",theme:s?"primary":"default",className:s?"text-md font-semibold capitalize sm:block":"text-sm hover:text-wt-primary"},o)),tt=({publication:t,isLoggedIn:o,subscription:r})=>{var L,M,y;let{t:s}=S(),[d,l]=(0,Fe.useState)(!1),{content_tags:n,web_template:x}=t,{nav_groups:c,enable_customize_category_ids:v,category_ids:_}=x,g=t.premium_enabled,h=t.has_referral_program,P=o||g,u=((L=x==null?void 0:x.multi_pub_ids)==null?void 0:L.length)>=1,F=((y=(M=t==null?void 0:t.web_template)==null?void 0:M.author_ids)==null?void 0:y.length)>=1,w=()=>{l(!1)};return e.createElement("div",null,e.createElement("div",{className:"flex items-center"},e.createElement("button",{onClick:()=>l(!0)},o?e.createElement("div",{className:"h-6 w-6 overflow-hidden rounded-full"},e.createElement("img",{className:"h-6 w-6 rounded-full",src:r==null?void 0:r.avatar_url,alt:"The logged in user"})):e.createElement(U,{className:"h-6 w-6 stroke-1 text-wt-text-on-tertiary opacity-60 hover:opacity-100"}))),e.createElement(Ge,{open:d,setOpen:l,title:s("nav.mobile_title")},e.createElement("div",{className:"fixed top-7 right-8"},o?e.createElement(se,{method:"post",action:"/logout",className:"cursor-pointer whitespace-nowrap text-sm",onClick:w},e.createElement("div",{className:"group flex items-center space-x-2 rounded-wt hover:bg-gray-100"},e.createElement("input",{type:"submit",value:s("shared.cta.logout")||"",className:"whitespace-nowrap text-xs sm:block"}))):e.createElement(N,{path:"/login",text:s("shared.cta.login"),onClick:w})),e.createElement("div",{className:"space-y-2"},e.createElement("div",{className:"flex flex-col"},e.createElement(D,{text:s("nav.links.home")}),e.createElement(N,{path:"/",text:s("meta.titles.posts"),onClick:w}),u&&e.createElement(N,{path:"/publications",text:"Newsletters",onClick:w}),F&&e.createElement(N,{path:"/authors",text:s("author.authors"),onClick:w})),P&&e.createElement("div",{className:"flex flex-col"},e.createElement(D,{text:s("nav.mobile_sections.account")}),e.createElement("div",{className:"mb-2 flex flex-col"},g&&e.createElement(N,{path:"/upgrade",text:s("nav.links.upgrade"),onClick:w}),o&&r&&e.createElement(N,{path:`/subscribe/${r.id}/manage`,text:s("nav.links.manage"),onClick:w}),h&&r&&e.createElement(N,{path:`/subscribe/${r.id}/referrals`,text:s("nav.links.referrals"),onClick:w}))),e.createElement("div",{className:"flex flex-col space-y-2"},c&&c.map(m=>{var J,Q,R,ee;if(m.is_category_group)return e.createElement("div",{key:m.id},e.createElement(D,{text:m.title}),e.createElement("div",{className:"mb-2 flex flex-col"},n==null?void 0:n.map(p=>v&&!_.includes(p.id)?null:e.createElement("div",{key:p.id},e.createElement(N,{path:`/t/${p.display}`,text:p.display,onClick:w})))));if(!((J=m==null?void 0:m.nav_links)==null?void 0:J.length))return null;if(((Q=m==null?void 0:m.nav_links)==null?void 0:Q.length)===1){let p=(R=m==null?void 0:m.nav_links)==null?void 0:R[0];return p.external_link?e.createElement("a",{key:m.id,href:p.href,target:"_blank",rel:"nofollow noreferrer noopener"},e.createElement(a,{as:"span",type:"title",theme:"primary",className:"text-md font-semibold capitalize sm:block"},p.cta_text)):e.createElement("div",{key:m.id},e.createElement(N,{asTitle:!0,path:`/c/${p.href}`,text:p.cta_text,onClick:w}))}return e.createElement("div",{key:m.id},e.createElement(D,{text:m.title}),e.createElement("div",{className:"mb-2 flex flex-col"},(ee=m==null?void 0:m.nav_links)==null?void 0:ee.map(p=>p.external_link?e.createElement("a",{key:p.id,href:p.href,target:"_blank",rel:"nofollow noreferrer noopener"},e.createElement(a,{as:"span",type:"title",theme:"default",className:"text-sm hover:text-wt-primary"},p.cta_text)):e.createElement(N,{key:p.id,path:`/c/${p.href}`,text:p.cta_text,onClick:w}))))})))))},Ae=tt;var rt=400,st=()=>{let t=(0,k.useRef)(null),o=(0,k.useRef)(null),[r,s]=(0,k.useState)(!1),[d,l]=(0,k.useState)(0),[n,x]=(0,k.useState)(!1),c=v=>{o.current&&(o.current.offsetWidth-v<rt?!r&&s(!0):s(!1))};return(0,k.useEffect)(()=>{!n&&o.current&&t.current&&(l(t.current.offsetWidth),c(t.current.offsetWidth),x(!0))},[n,o.current,t.current]),(0,k.useEffect)(()=>{let v=()=>{n&&c(d)};return window.addEventListener("resize",v),()=>window.removeEventListener("resize",v)},[n,o.current]),{shouldUseMobileMenu:r,menuRef:t,navRef:o,isMounted:n}},ot=({publication:t,isLoggedIn:o,subscription:r})=>{let s=A(),{navRef:d,menuRef:l,isMounted:n,shouldUseMobileMenu:x}=st(),c=(r==null?void 0:r.tier)==="premium",v=!o&&!t.private;return e.createElement("nav",{ref:d,className:"flex items-center justify-between bg-wt-tertiary py-2 px-4"},e.createElement("div",{className:"mx-auto flex w-full max-w-6xl justify-between"},e.createElement("div",{className:"flex items-center space-x-2"},e.createElement(Me,{url:t.logo.thumb.url,name:t.name}),e.createElement("div",{ref:l,className:(0,$e.default)(!n&&"opacity-0",x?"hidden":"z-20 block")},e.createElement(ze,{publication:t}))),e.createElement("div",{className:"z-20 flex items-center"},v&&e.createElement("div",{className:"mr-2"},e.createElement(ue,{variant:"primary",onClick:()=>s("/subscribe")},t.cta_text)),e.createElement("div",null,x?e.createElement(Ae,{publication:t,isLoggedIn:o,subscription:r}):e.createElement(Le,{isLoggedIn:o,avatarUrl:r==null?void 0:r.avatar_url,subscriberId:r==null?void 0:r.subscriber_id,isPremiumEnabled:t.premium_enabled,isReferralEnabled:t.has_referral_program,isPremiumTierSubscriber:c,publication:t})))))},at=ot;i();var it=({redirects:t,currentStep:o,progress:r=0,publication:s})=>{let d=s.web_template.signup_flow_messaging.success_message,l=o==null?void 0:o.page_message,n=t&&(t==null?void 0:t.length)>1;return e.createElement(e.Fragment,null,e.createElement("div",{className:"fixed z-20 flex h-14 w-full justify-center bg-white shadow-lg"},e.createElement("div",{className:"overflow-hidden rounded-full bg-white"},e.createElement("img",{className:"absolute left-1/2 top-7 z-10 h-14 w-14 -translate-x-1/2 transform rounded-full",src:s.web_template.signup_flow_avatar_url,alt:"avatar"})),n&&e.createElement("div",{className:"absolute top-14 w-full"},e.createElement(ke,{currentProgress:r,variant:"signup-flow"}))),e.createElement("div",null,e.createElement("div",{className:"mb-2 h-14"}),e.createElement("div",{className:"mx-auto flex w-full max-w-xl flex-col items-center space-y-2 pt-8 pb-4 text-center"},d&&e.createElement(q,{as:"p",size:"sm",className:"font-medium"},s.web_template.signup_flow_messaging.success_message),l&&e.createElement(q,{as:"h4",size:"xl",weight:"semibold"},o==null?void 0:o.page_message))))},nt=it;i();export{Oe as a,Ze as b,at as c,nt as d};