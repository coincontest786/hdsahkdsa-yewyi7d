import{a as R}from"/build/_shared/chunk-UJHLW63H.js";import{d as g,g as I,h as i,i as t}from"/build/_shared/chunk-BQCUINC5.js";t();var h={"beehiiv-images-production.s3.amazonaws.com":"media.beehiiv.com","media.beehiiv.net":"media.beehiiv.com","beehiiv-images-staging.s3.amazonaws.com":"media.staginghiiv.com","staging-media.beehiiv.net":"media.staginghiiv.com"},y=(o,a)=>{let e=null;try{e=new URL(o)}catch{}if(!Boolean(e&&Object.keys(h).includes(e.host)))return o;let s=h[e==null?void 0:e.host],n=new URLSearchParams(a).toString().replace(/&/g,",");return`https://${s}/cdn-cgi/image/${n}${e==null?void 0:e.pathname}`},d=y;t();var u=g(R()),f=g(I());var E=({src:o,alt:a,maxWidth:e,aspectRatio:r,widthClass:s,...n})=>{let m=(0,f.useRef)(null),p={social:"aspect-social",square:"aspect-square",video:"aspect-video"}[r],[w,v]={social:[1.9,1],square:[1,1],video:[16,9]}[r],c=e,l=Math.round(c/w*v),b=d(o,{format:"auto",width:String(c),height:String(l),fit:"scale-down",onerror:"redirect"});return i.createElement("figure",{className:(0,u.default)(p,"relative h-full overflow-hidden",s||"w-full"),ref:m},i.createElement("img",{...n,width:c,height:l,src:b,alt:a,className:"absolute inset-0 h-full w-full object-cover"}))},S=E;t();export{S as a};