import{h as l,t as P,y as L}from"/build/_shared/chunk-ZE7WC5SJ.js";import{d as q,g as F,i as f}from"/build/_shared/chunk-BQCUINC5.js";f();L();var t=q(F()),w=({initialPosts:a,initialPagination:r})=>{let s=P(),h=r.total_pages,[n,c]=(0,t.useState)(a),[p,g]=(0,t.useState)(r.page),e=s==null?void 0:s.data,[d]=l(),m=d.get("q"),u=d.getAll("tags"),S=()=>{let o=new URLSearchParams;o.append("page",p+1),m&&o.append("q",m),u.length&&o.append("tags",u),s.load(`/posts?${o.toString()}`)};return(0,t.useEffect)(()=>{n&&(g(1),c(a))},[a]),(0,t.useEffect)(()=>{e&&(g(p+1),c(n.concat(e==null?void 0:e.posts)))},[e]),{postsToRender:n,showLoadMore:p+1<=h,isLoading:(s==null?void 0:s.state)!=="idle",postsFetcher:s,fetchPosts:S}},x=w;export{x as a};