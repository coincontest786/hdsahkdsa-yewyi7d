import{a as R}from"/build/_shared/chunk-H7ZG4GZ5.js";import{a as st}from"/build/_shared/chunk-B3ZKD3QO.js";import{a as ot,b as at,c as it,d as nt}from"/build/_shared/chunk-BHMK5WBC.js";import"/build/_shared/chunk-L4WLEJDM.js";import"/build/_shared/chunk-SBH5BRZG.js";import"/build/_shared/chunk-4LSZPL3Y.js";import"/build/_shared/chunk-FIDTW36V.js";import"/build/_shared/chunk-HIQL2F4J.js";import"/build/_shared/chunk-FILXGU67.js";import"/build/_shared/chunk-2CKNLSXU.js";import"/build/_shared/chunk-HXP2GY5Y.js";import{a as ct}from"/build/_shared/chunk-Y6ZDTDFS.js";import"/build/_shared/chunk-FEIGB7G5.js";import"/build/_shared/chunk-LR2TDZQ6.js";import"/build/_shared/chunk-ATK5QXW2.js";import"/build/_shared/chunk-RLLKFPQB.js";import"/build/_shared/chunk-IE27HVSD.js";import"/build/_shared/chunk-IGCHGWVU.js";import{a as Bt}from"/build/_shared/chunk-YOAGUUN6.js";import{a as et}from"/build/_shared/chunk-G44LSF5L.js";import{a as Ft}from"/build/_shared/chunk-BCUQWPWE.js";import{a as rt}from"/build/_shared/chunk-GHINJFEH.js";import"/build/_shared/chunk-LMUMY6YR.js";import"/build/_shared/chunk-CY5473SF.js";import"/build/_shared/chunk-OQ5IMCIA.js";import"/build/_shared/chunk-IQQMIK5T.js";import"/build/_shared/chunk-HBA2H4UX.js";import"/build/_shared/chunk-SWQZGWFR.js";import"/build/_shared/chunk-NUTN2VOP.js";import{a as Z}from"/build/_shared/chunk-PUUNJBCK.js";import"/build/_shared/chunk-J24LMM7T.js";import{a as y,b as tt}from"/build/_shared/chunk-6HFKSBJV.js";import{a as u}from"/build/_shared/chunk-BNUCPLDT.js";import"/build/_shared/chunk-5DCFALQ2.js";import"/build/_shared/chunk-MRY5SXDL.js";import"/build/_shared/chunk-JR3LCQKS.js";import"/build/_shared/chunk-CKAJJNIC.js";import"/build/_shared/chunk-ROWZXDAP.js";import{a as qt}from"/build/_shared/chunk-UJHLW63H.js";import{d as f}from"/build/_shared/chunk-G6CDRCV7.js";import{c as p,g as X,h,i as V,k as W,l as G,m as K,p as z,q as $,u as J,w as Q,y as d}from"/build/_shared/chunk-ZE7WC5SJ.js";import{b as S,d as c,g as m,h as r,i as o}from"/build/_shared/chunk-BQCUINC5.js";var _t=S((Br,Pt)=>{o();Pt.exports={}});var Et=S((Dr,zt)=>{o();zt.exports={}});var jt=S((Ur,Lt)=>{o();Lt.exports={}});var Ct=S((Ar,Tt)=>{o();Tt.exports={}});o();o();d();var It=c(m());o();var E=c(Z()),lt=c(m());d();function pt(){let t=z().flatMap(e=>{var a;let i=(a=e.handle)===null||a===void 0?void 0:a.dynamicLinks;return typeof i!="function"?[]:i({data:e.data})});return(0,E.jsx)(E.Fragment,{children:t.map(e=>(0,lt.createElement)("link",{...e,key:e.integrity||JSON.stringify(e)}))})}o();var dt=c(Z());d();function Yt(t){return t!==void 0&&t.structuredData!==void 0&&typeof t.structuredData=="function"}function mt(){let e=z().flatMap(i=>{let{handle:s,data:n}=i;if(Yt(s)){let l=s.structuredData(n);if(l)return l}return[]});if(e.length===0)return null;let a=e.length===1?JSON.stringify(e[0]):JSON.stringify(e);return(0,dt.jsx)("script",{type:"application/ld+json",dangerouslySetInnerHTML:{__html:a}})}o();d();var U=c(qt());o();var Dt=({pixelId:t})=>t?r.createElement("script",{id:"facebook-pixel",async:!0,dangerouslySetInnerHTML:{__html:`
!function(f,b,e,v,n,t,s)
{if(f.fbq)return;n=f.fbq=function(){n.callMethod?
n.callMethod.apply(n,arguments):n.queue.push(arguments)};
if(!f._fbq)f._fbq=n;n.push=n;n.loaded=!0;n.version='2.0';
n.queue=[];t=b.createElement(e);t.async=!0;
t.src=v;s=b.getElementsByTagName(e)[0];
s.parentNode.insertBefore(t,s)}(window, document,'script',
'https://connect.facebook.net/en_US/fbevents.js');
fbq('init', ${t});
fbq("track", "PageView");
`}}):null,gt=Dt;o();var Ut=({pixelId:t})=>t?r.createElement(r.Fragment,null,r.createElement("script",{async:!0,src:`https://www.googletagmanager.com/gtag/js?id=${t}`}),r.createElement("script",{async:!0,id:"ga-pixel",dangerouslySetInnerHTML:{__html:`
                window.dataLayer = window.dataLayer || [];
                function gtag(){dataLayer.push(arguments);}
                gtag('js', new Date());
                gtag('config', '${t}', {
                  page_path: window.location.pathname,
                });
              `}})):null,wt=Ut;o();d();var bt=c(m()),At=({pixelId:t})=>{let e=p();return(0,bt.useEffect)(()=>{window.gtag&&window.gtag("config",t,{page_path:e.pathname})},[e,t]),t?r.createElement(r.Fragment,null,r.createElement("script",{async:!0,src:`https://www.googletagmanager.com/gtag/js?id=${t}`}),r.createElement("script",{async:!0,id:"ga-pixel",dangerouslySetInnerHTML:{__html:`
                window.dataLayer = window.dataLayer || [];
                function gtag(){dataLayer.push(arguments);}
                gtag('js', new Date());
              `}})):null},ht=At;o();var Y=({pixelId:t})=>t?r.createElement("script",{id:"gtm-pixel",dangerouslySetInnerHTML:{__html:`
              (function(w,d,s,l,i){w[l]=w[l]||[];w[l].push({'gtm.start':
              new Date().getTime(),event:'gtm.js'});var f=d.getElementsByTagName(s)[0],
              j=d.createElement(s),dl=l!='dataLayer'?'&l='+l:'';j.async=true;j.src=
              'https://www.googletagmanager.com/gtm.js?id='+i+dl;f.parentNode.insertBefore(j,f);
              })(window,document,'script','dataLayer','${t}');
              `}}):null,D=({pixelId:t})=>t?r.createElement("noscript",{dangerouslySetInnerHTML:{__html:`<iframe src="https://www.googletagmanager.com/ns.html?id=${t}" height="0" width="0" style="display: none; visibility: hidden;" />`}}):null;o();d();var ft=c(m()),Ht=({pixelId:t})=>{let e=p();return(0,ft.useEffect)(()=>{window.ttq&&window.ttq.page()},[e]),t?r.createElement("script",{id:"tiktok-pixel",async:!0,dangerouslySetInnerHTML:{__html:`
              !function (w, d, t) {
                w.TiktokAnalyticsObject=t;var ttq=w[t]=w[t]||[];ttq.methods=["page","track","identify","instances","debug","on","off","once","ready","alias","group","enableCookie","disableCookie"],ttq.setAndDefer=function(t,e){t[e]=function(){t.push([e].concat(Array.prototype.slice.call(arguments,0)))}};for(var i=0;i<ttq.methods.length;i++)ttq.setAndDefer(ttq,ttq.methods[i]);ttq.instance=function(t){for(var e=ttq._i[t]||[],n=0;n<ttq.methods.length;n++)ttq.setAndDefer(e,ttq.methods[n]);return e},ttq.load=function(e,n){var i="https://analytics.tiktok.com/i18n/pixel/events.js";ttq._i=ttq._i||{},ttq._i[e]=[],ttq._i[e]._u=i,ttq._t=ttq._t||{},ttq._t[e]=+new Date,ttq._o=ttq._o||{},ttq._o[e]=n||{};var o=document.createElement("script");o.type="text/javascript",o.async=!0,o.src=i+"?sdkid="+e+"&lib="+t;var a=document.getElementsByTagName("script")[0];a.parentNode.insertBefore(o,a)};
                ttq.load('${t}');
              }(window, document, 'ttq');
              `}}):null},ut=Ht;o();d();var xt=c(m()),Ot=({pixelId:t})=>{let e=p();return(0,xt.useEffect)(()=>{window.twq&&window.twq("track","PageView")},[e]),t?r.createElement("script",{id:"twitter-pixel",async:!0,dangerouslySetInnerHTML:{__html:`
        !function(e,t,n,s,u,a){e.twq||(s=e.twq=function(){s.exe?s.exe.apply(s,arguments):s.queue.push(arguments);
        },s.version='1.1',s.queue=[],u=t.createElement(n),u.async=!0,u.src='//static.ads-twitter.com/uwt.js',
        a=t.getElementsByTagName(n)[0],a.parentNode.insertBefore(u,a))}(window,document,'script');
        // Insert Twitter Pixel ID and Standard Event data below
        twq('init','${t}');
            `}}):null},yt=Ot;var Xt=({children:t,title:e,theme:a,publication:i,sheet:s,gaTrackingId:n,twitterPixel:l,facebookPixel:g,tiktokPixel:w,ga4Pixel:T,gaPixel:C,gtmPixel:v,env:I,isProdEnv:k,beehiivPixel:P,preventScrollOnFilter:N,rootStyles:M,customStyles:A})=>{let b=p(),{i18n:q}=f(),[H]=h(),_=H.get("version")==="draft",F=b.pathname==="/subscribe",Nt=b.pathname==="/",Mt=b.pathname.startsWith("/p/"),O=b.pathname.startsWith("/c/"),B="";return F&&(B="bg-wt-subscribe_background text-wt-text-on-subscribe_background"),(Nt||Mt||O)&&(B="bg-wt-background text-wt-text-on-background"),r.createElement("html",{lang:q.language,className:"h-full antialiased"},r.createElement("head",null,e?r.createElement("title",null,e):null,r.createElement(G,null),r.createElement(pt,null),r.createElement(W,null),r.createElement(mt,null),k&&r.createElement(r.Fragment,null,r.createElement(Y,{pixelId:v}),r.createElement(Y,{pixelId:P}),r.createElement(gt,{pixelId:g}),r.createElement(yt,{pixelId:l}),r.createElement(ut,{pixelId:w}),r.createElement(wt,{pixelId:T}),r.createElement(ht,{pixelId:C})),O&&r.createElement("script",{type:"text/javascript",async:!0,src:"https://embeds.beehiiv.com/attribution.js"}),r.createElement("style",{suppressHydrationWarning:!0,dangerouslySetInnerHTML:{__html:M}})),r.createElement("body",{className:(0,U.default)("flex h-full flex-col",B,a==null?void 0:a.className)},k&&r.createElement(r.Fragment,null,r.createElement(D,{pixelId:v}),r.createElement(D,{pixelId:P})),r.createElement("script",{dangerouslySetInnerHTML:{__html:`window.ENV = ${JSON.stringify(I)}`}}),r.createElement("div",{className:(0,U.default)(_&&"pointer-events-none")},t),!N&&!_&&r.createElement(Q,null),r.createElement(K,null),r.createElement(J,null)))},x=Xt;o();d();var L=c(m());var Vt=()=>{let[t,e]=h(),a=t.get("subscription"),i=t.get("opt_in_email"),s=t.get("logout"),{t:n}=f();(0,L.useEffect)(()=>{a&&(a==="success"?y.success(n("notifications.subscribe.success")):a==="error"&&y.error(n("notifications.subscribe.error")),t.delete("subscription"),e(t))},[a,t,e,n]),(0,L.useEffect)(()=>{s&&(s==="success"&&y.success(n("notifications.logout.success")),t.delete("logout"),e(t))},[s,t,e,n]),(0,L.useEffect)(()=>{i&&i==="error"&&(y.success(n("notifications.optin.error")),t.delete("opt_in_email"),e(t))},[i,t,e,n])},vt=Vt;o();d();var j=c(m());var Wt=()=>{let{pathname:t}=p(),[e]=h(),[a,i]=(0,j.useState)(!1),s=t==="/",n=t.startsWith("/p/"),l=t.startsWith("/c/"),w=t.startsWith("/t/")||l||s||n,T=t==="/landing_page",C=t==="/login",v=t.startsWith("/forms")&&e.has("preview"),I=t==="/subscribe",k=t==="/recommendations",P=t.startsWith("/polls"),N=t==="/upgrade"&&e.has("email"),M=T||C||I||N||k||P||v||a,A=t.startsWith("/forms"),b=t==="/upgrade",q=t.startsWith("/subscribe")&&t.endsWith("/manage"),_=b||q||A||(t==="/publications"||t==="/publications/");return(0,j.useEffect)(()=>{let F=Boolean(localStorage.getItem("signup_redirects"));i(F)},[t]),w?{isNavShowing:!0,isFooterShowing:!0}:M?{isNavShowing:!1,isFooterShowing:!1}:_?{isNavShowing:!0,isFooterShowing:!1}:{isNavShowing:!0,isFooterShowing:!0}},kt=Wt;var Kt=c(Ft()),$t=c(Bt()),Jt=c(_t());var St="/build/_assets/app-N3E2VZEX.css";var Qt=c(Et()),Zt=c(jt()),Rt=c(Ct());function tr(){return[{rel:"stylesheet",href:St},{rel:"preconnect",href:"https://fonts.googleapis.com"},{rel:"preconnect",href:"https://fonts.gstatic.com"}]}var rr=({data:t})=>{var i,s,n,l;if(!t)return[];if(!((i=t==null?void 0:t.publication)==null?void 0:i.web_theme))return[];let e=[`https://fonts.googleapis.com/css2?family=${t==null?void 0:t.publication.web_theme.header_font.split(" ").join("+")}&display=swap`,`https://fonts.googleapis.com/css2?family=${t==null?void 0:t.publication.web_theme.body_font.split(" ").join("+")}&display=swap`,`https://fonts.googleapis.com/css2?family=${t==null?void 0:t.publication.web_theme.button_font.split(" ").join("+")}&display=swap`];return[...[...new Set(e)].map(g=>({rel:"stylesheet",href:g})),{rel:"icon",href:(l=(n=(s=t==null?void 0:t.publication)==null?void 0:s.logo)==null?void 0:n.thumb)==null?void 0:l.url,as:"image"}]},er={dynamicLinks:rr,i18n:["common"]},or=({data:t})=>{var e;if((e=t==null?void 0:t.publication)==null?void 0:e.name){let a=t==null?void 0:t.publication.tags.map(s=>s.name).join(", "),i={charset:"utf-8",title:t==null?void 0:t.publication.name,keywords:a,author:t==null?void 0:t.publication.email_sender_name,description:t==null?void 0:t.publication.description,viewport:"width=device-width,initial-scale=1"};return(t==null?void 0:t.publication.noindex_enabled)&&(i.robots="noindex"),i}return{charset:"utf-8",title:"beehiiv",description:"The newsletter platform built for growth.",keywords:"Newsletter, Email, Growth, Platofrm, SaaS, Creator",viewport:"width=device-width,initial-scale=1"}};var ar=()=>{var w;let t=$(),{i18n:e}=f(),a=t.publication.language;st("jwt_token"),(0,It.useEffect)(()=>{e.changeLanguage(a)},[e,a]),et(t.toast),vt();let{isNavShowing:i,isFooterShowing:s}=kt(),{progress:n,redirects:l,currentStep:g}=ct(t.publication);return r.createElement(rt,{token:t==null?void 0:t.csrfToken},r.createElement(x,{theme:t==null?void 0:t.theme,publication:t==null?void 0:t.publication,rootStyles:t==null?void 0:t.rootStyles,facebookPixel:t.facebookPixel,twitterPixel:t.twitterPixel,tiktokPixel:t.tiktokPixel,gaPixel:t.gaPixel,ga4Pixel:t.ga4Pixel,gtmPixel:t.gtmPixel,env:t.ENV,isProdEnv:t.isProdEnv,beehiivPixel:t.gtmUserPubs,preventScrollOnFilter:t.preventScrollOnFilter},r.createElement(tt,{position:"top-center"}),i&&!n?r.createElement(it,{publication:t==null?void 0:t.publication,isLoggedIn:t==null?void 0:t.isLoggedIn,subscription:t==null?void 0:t.subscription}):r.createElement(r.Fragment,null),n?r.createElement(nt,{progress:n,redirects:l,currentStep:g,publication:t==null?void 0:t.publication}):null,r.createElement(at,{maxWidth:"none",noLayout:!i&&!s},r.createElement(X,{context:{publicationId:(w=t==null?void 0:t.publication)==null?void 0:w.id,recaptchaSiteKey:t.ENV.CLOUDFLARE_TURNSTILE_SITE_KEY}})),s?r.createElement(ot,{publication:t==null?void 0:t.publication,recaptchaSiteKey:t.ENV.CLOUDFLARE_TURNSTILE_SITE_KEY,subscription:t==null?void 0:t.subscription}):r.createElement(r.Fragment,null)))},ir=R(ar,{errorBoundaryOptions:{fallback:r.createElement(u,{errorCode:"500"})}});function nr(){let t=V();switch(t.status){case 400:return r.createElement(x,null,r.createElement(u,{errorCode:"400",publicationPresent:!1}));case 404:return r.createElement(x,null,r.createElement(u,{errorCode:"404",publicationPresent:!1}));default:return r.createElement(x,null,r.createElement(u,{errorCode:`${t.status}`}))}}function sr({error:t}){return r.createElement(x,{title:"Error!"},r.createElement(u,{errorCode:"500"}))}export{nr as CatchBoundary,sr as ErrorBoundary,ir as default,er as handle,tr as links,or as meta};